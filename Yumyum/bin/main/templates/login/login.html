<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/basic">
<th:block layout:fragment="title">
	<title>Yum로그인</title>
</th:block>

<th:block layout:fragment="content">
<div class="card-content">
<form class="form-horizontal" id="frm" name="frm" th:action="@{/login}" method="post">

	<h2>Login</h2>
	<!-- <input type="hidden" th:if="*{userNum != null and userNum > 0}" th:field="*{userNum}" /> -->

	<div class="form-group">
		<label class="col-sm-2 control-label">아이디</label>
		<div class="col-sm-10">
			<input type="text" id="id" name="id" class="form-control" 
					placeholder="아이디를 입력해 주세요." />
		</div>
	</div>

	<div class="form-group">
		<label class="col-sm-2 control-label">비밀번호</label>
		<div class="col-sm-10">
			<input type="password" id="pw" name="pw" class="form-control" 
					placeholder="비밀번호를 입력해 주세요." />
		</div>
	</div>

	<div class="btn_wrap text-center">
		<a th:href="@{/login}" class="btn btn-default waves-effect waves-light">뒤로가기</a>
		<button type="submit" id="btnLogin" name="btnLogin" class="btn btn-primary waves-effect waves-light">로그인하기</button>
	</div>
	
</form>
</div>
</th:block>

<th:block layout:fragment="script">
	<script src='https://code.jquery.com/jquery-3.5.0.js'></script>
	<script th:inline="javascript">
	/*<![CDATA[ */
		//
	let failID = [[${noID}]];
	let failPW = [[${failPW}]];
	console.log(failID);
	console.log(failPW);
	
	$(document)
	.ready(function(){
		loginCheck();
	})
	.on('submit', function() {
		if (emptyStr($('#id').val())) {
			alert("아이디가 비어있습니다.");
			return false;
			
		} else if (emptyStr($('#pw').val())) {
			
			alert("비밀번호가 비어있습니다.");
			return false;
		} 
	});
	/* function fnSubmit(){
		console.log("전송");
	} */
	function loginCheck(){
		
		if(failID != null) {
			console.log(failID);
			alert("존재하는 ID가 아닙니다.");
			
		} else if (failPW != null){
			console.log(failPW);
			alert("비밀번호가 맞지 않습니다.");
			
		};
	}
	function emptyStr(str) {
	    if (typeof str == "undefined" || str == null || str == "")
	        return true;
	}
	/*[- end of function -]*/

	/*]]>*/
	</script>
</th:block>
</html>