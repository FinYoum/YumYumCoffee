<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yum.mapper.ProductMapper">
    
    <insert id="insertProduct" parameterType="com.yum.domain.ProductDTO">
        INSERT INTO product(
            product_num
            ,name
            ,price
            ,info
            ,img        
        ) VALUES (
            pnum_seq.nextval
            ,#{name}
            ,#{price}
            ,#{info}
            ,#{img}
        )
    </insert>
    
    <select id="selectProductDetail" parameterType="long" resultType="com.yum.domain.ProductDTO">
        SELECT 
            product_num
            ,name
            ,price
            ,info
            ,img  
        FROM 
            product
        WHERE
            product_num=#{productNum}
    </select>
    
    <update id="updateProduct" parameterType="com.yum.domain.ProductDTO">
        UPDATE product
        SET
            price=#{price}
            , info=#{info}
            , img =#{img}
        WHERE
            product_num=#{productNum}
    </update>
    
    <delete id="deleteProduct" parameterType="long">
        DELETE product
        WHERE
            product_num=#{productNum}
    </delete>
    
    <select id="selectProductList" parameterType="com.yum.domain.ProductDTO" resultType="com.yum.domain.ProductDTO">
        SELECT 
            product_num
            ,name
            ,price
            ,info
            ,img  
        FROM 
            product
    </select>
    
    <select id="selectProductTotalCount" parameterType="com.yum.domain.ProductDTO" resultType="int">
        SELECT 
            COUNT(*)
        FROM 
            product
    </select>
</mapper>