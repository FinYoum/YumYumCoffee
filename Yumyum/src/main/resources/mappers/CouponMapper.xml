<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yum.mapper.CouponMapper">
    <sql id = "couponColums">
        cp_num
        , user_num
        , pm_num
        , insert_date
        , expiration_date
        , kind
        , delete_yn
        , description
    </sql>
    <insert id="insertStampCoupon" parameterType="CouponMapper">  
        INSERT INTO COUPON(
        <include refid="couponColums"/>
        ) VALUES(
            SEQ.NEXTVAL
            , #{user_num}
            , #{pm_num}
            , to_date(SYSDATE,'YYYY-MM-DD'))
            , to_date(SYSDATE+29,'YYYY-MM-DD'))
            , #{kind}
            , 'N'
            , '아메리카노 1잔과 교환할 수 있습니다.'
        )     
    </insert>

</mapper>